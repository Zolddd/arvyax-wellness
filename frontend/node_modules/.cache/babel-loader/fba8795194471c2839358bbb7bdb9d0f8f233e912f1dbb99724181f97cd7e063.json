{"ast":null,"code":"import{useState}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{EyeIcon,EyeSlashIcon}from\"@heroicons/react/24/solid\";import{motion,AnimatePresence}from\"framer-motion\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[showPassword,setShowPassword]=useState(false);const[message,setMessage]=useState(\"\");const[messageType,setMessageType]=useState(\"\");const[shake,setShake]=useState(false);const navigate=useNavigate();const handleLogin=async e=>{e.preventDefault();// Email validation\nif(!email.includes(\"@\")||!/\\S+@\\S+\\.\\S+/.test(email)){setMessageType(\"error\");setMessage(\"⚠ Please enter a valid email address.\");triggerShake();return;}try{const res=await axios.post(`${process.env.REACT_APP_API_URL}/auth/login`,{email,password});localStorage.setItem(\"token\",res.data.token);setMessageType(\"success\");setMessage(\"✅ Login successful! Redirecting...\");setTimeout(()=>{navigate(\"/\");},1500);}catch{setMessageType(\"error\");setMessage(\"❌ Incorrect email or password. Please try again.\");triggerShake();}};const triggerShake=()=>{setShake(true);setTimeout(()=>setShake(false),500);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-r from-green-700 to-emerald-600 flex items-center justify-center px-4\",children:/*#__PURE__*/_jsxs(motion.div,{animate:shake?{x:[0,-10,10,-10,10,0]}:{},transition:{duration:0.4},className:\"bg-white/10 backdrop-blur-xl shadow-2xl p-8 sm:p-10 rounded-2xl w-full max-w-md border border-white/20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 p-3 rounded-full shadow-md\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://cdn-icons-png.flaticon.com/512/3064/3064155.png\",alt:\"Login icon\",className:\"w-16 h-16\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-extrabold text-white text-center mt-5\",children:\"Welcome Back\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-white/80 mt-1 text-center max-w-xs\",children:\"Log in to continue your wellness journey \\uD83C\\uDF3F\"})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:message&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:0.3},className:`mb-4 p-3 rounded-lg text-sm font-medium ${messageType===\"error\"?\"bg-red-100 text-red-700 border border-red-300\":\"bg-green-100 text-green-700 border border-green-300\"}`,children:message})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/90 text-sm mb-1\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter your email\",className:\"w-full px-4 py-3 border border-white/30 bg-white/10 text-white rounded-lg focus:ring-2 focus:ring-green-400 outline-none placeholder-white/70\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/90 text-sm mb-1\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\",placeholder:\"Enter your password\",className:\"w-full px-4 py-3 border border-white/30 bg-white/10 text-white rounded-lg focus:ring-2 focus:ring-green-400 outline-none pr-12 placeholder-white/70\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute right-3 flex items-center justify-center text-white/70 hover:text-white\",onClick:()=>setShowPassword(!showPassword),children:showPassword?/*#__PURE__*/_jsx(EyeSlashIcon,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(EyeIcon,{className:\"w-5 h-5\"})})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition-all shadow-lg hover:shadow-xl\",children:\"Log In\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-center text-white/80\",children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>navigate(\"/register\"),className:\"text-white font-semibold underline cursor-pointer hover:text-green-300\",children:\"Register here\"})]})]})]})});}","map":{"version":3,"names":["useState","axios","useNavigate","EyeIcon","EyeSlashIcon","motion","AnimatePresence","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","showPassword","setShowPassword","message","setMessage","messageType","setMessageType","shake","setShake","navigate","handleLogin","e","preventDefault","includes","test","triggerShake","res","post","process","env","REACT_APP_API_URL","localStorage","setItem","data","token","setTimeout","className","children","div","animate","x","transition","duration","src","alt","initial","opacity","y","exit","onSubmit","type","placeholder","value","onChange","target","required","onClick"],"sources":["C:/Arvyax Full stack project/frontend/src/pages/Login.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { EyeIcon, EyeSlashIcon } from \"@heroicons/react/24/solid\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nexport default function Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messageType, setMessageType] = useState(\"\"); \r\n  const [shake, setShake] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Email validation\r\n    if (!email.includes(\"@\") || !/\\S+@\\S+\\.\\S+/.test(email)) {\r\n      setMessageType(\"error\");\r\n      setMessage(\"⚠ Please enter a valid email address.\");\r\n      triggerShake();\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/login`, {\r\n        email,\r\n        password,\r\n      });\r\n      localStorage.setItem(\"token\", res.data.token);\r\n\r\n      setMessageType(\"success\");\r\n      setMessage(\"✅ Login successful! Redirecting...\");\r\n\r\n      setTimeout(() => {\r\n        navigate(\"/\");\r\n      }, 1500);\r\n    } catch {\r\n      setMessageType(\"error\");\r\n      setMessage(\"❌ Incorrect email or password. Please try again.\");\r\n      triggerShake();\r\n    }\r\n  };\r\n\r\n  const triggerShake = () => {\r\n    setShake(true);\r\n    setTimeout(() => setShake(false), 500); \r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-r from-green-700 to-emerald-600 flex items-center justify-center px-4\">\r\n      <motion.div\r\n        animate={shake ? { x: [0, -10, 10, -10, 10, 0] } : {}}\r\n        transition={{ duration: 0.4 }}\r\n        className=\"bg-white/10 backdrop-blur-xl shadow-2xl p-8 sm:p-10 rounded-2xl w-full max-w-md border border-white/20\"\r\n      >\r\n        {/* Logo & Heading */}\r\n        <div className=\"flex flex-col items-center mb-8\">\r\n          <div className=\"bg-white/20 p-3 rounded-full shadow-md\">\r\n            <img\r\n              src=\"https://cdn-icons-png.flaticon.com/512/3064/3064155.png\"\r\n              alt=\"Login icon\"\r\n              className=\"w-16 h-16\"\r\n            />\r\n          </div>\r\n          <h2 className=\"text-3xl font-extrabold text-white text-center mt-5\">\r\n            Welcome Back\r\n          </h2>\r\n          <p className=\"text-sm text-white/80 mt-1 text-center max-w-xs\">\r\n            Log in to continue your wellness journey 🌿\r\n          </p>\r\n        </div>\r\n\r\n        <AnimatePresence>\r\n          {message && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: -10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -10 }}\r\n              transition={{ duration: 0.3 }}\r\n              className={`mb-4 p-3 rounded-lg text-sm font-medium ${\r\n                messageType === \"error\"\r\n                  ? \"bg-red-100 text-red-700 border border-red-300\"\r\n                  : \"bg-green-100 text-green-700 border border-green-300\"\r\n              }`}\r\n            >\r\n              {message}\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Form */}\r\n        <form onSubmit={handleLogin} className=\"space-y-5\">\r\n          {/* Email */}\r\n          <div>\r\n            <label className=\"block text-white/90 text-sm mb-1\">\r\n              Email Address\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Enter your email\"\r\n              className=\"w-full px-4 py-3 border border-white/30 bg-white/10 text-white rounded-lg focus:ring-2 focus:ring-green-400 outline-none placeholder-white/70\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Password */}\r\n          <div>\r\n            <label className=\"block text-white/90 text-sm mb-1\">\r\n              Password\r\n            </label>\r\n            <div className=\"relative flex items-center\">\r\n              <input\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                placeholder=\"Enter your password\"\r\n                className=\"w-full px-4 py-3 border border-white/30 bg-white/10 text-white rounded-lg focus:ring-2 focus:ring-green-400 outline-none pr-12 placeholder-white/70\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"absolute right-3 flex items-center justify-center text-white/70 hover:text-white\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n              >\r\n                {showPassword ? (\r\n                  <EyeSlashIcon className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <EyeIcon className=\"w-5 h-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Submit Button */}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition-all shadow-lg hover:shadow-xl\"\r\n          >\r\n            Log In\r\n          </button>\r\n\r\n          {/* Register Link */}\r\n          <p className=\"text-sm text-center text-white/80\">\r\n            Don&apos;t have an account?{\" \"}\r\n            <span\r\n              onClick={() => navigate(\"/register\")}\r\n              className=\"text-white font-semibold underline cursor-pointer hover:text-green-300\"\r\n            >\r\n              Register here\r\n            </span>\r\n          </p>\r\n        </form>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}